import{memo as e,useMemo as o,useState as i,useCallback as n,createElement as r,Fragment as t,forwardRef as a,useRef as l,useEffect as s}from"react";import{curveFromProp as u,useValueFormatter as d,useMotionConfig as c,useAnimatedPath as h,getLabelGenerator as f,DotsItem as p,Container as v,useDimensions as b,CartesianMarkers as g,bindDefs as m,SvgWrapper as y,ResponsiveWrapper as x,getRelativeCursor as M,isCursorInRect as C,mergeRefs as S}from"@nivo/core";import{Grid as B,Axes as w,renderGridLinesToCanvas as T,renderAxesToCanvas as k}from"@nivo/axes";import{BoxLegendSvg as L,renderLegendToCanvas as D}from"@nivo/legends";import{BasicTooltip as W,TableTooltip as I,Chip as F,useTooltip as E,Crosshair as G}from"@nivo/tooltip";import{line as P,area as O}from"d3-shape";import H from"lodash/uniqueId.js";import{useTheme as A}from"@nivo/theming";import{useOrdinalColorScale as V,useInheritedColor as Y}from"@nivo/colors";import{computeXYScalesForSeries as U}from"@nivo/scales";import{jsx as X,jsxs as R,Fragment as z}from"react/jsx-runtime";import{useSpring as j,animated as q}from"@react-spring/web";import{Mesh as J,useVoronoiMesh as K,renderVoronoiToCanvas as N,renderVoronoiCellToCanvas as Q}from"@nivo/voronoi";function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Z.apply(null,arguments)}function $(e,o){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==o.indexOf(n))continue;i[n]=e[n]}return i}var _,ee={xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},curve:"linear",colors:{scheme:"nivo"},lineWidth:2,layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],enablePoints:!0,pointSize:6,pointColor:{from:"series.color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,enableGridX:!0,enableGridY:!0,legends:[],isInteractive:!0,tooltip:e((function(e){var o=e.point;return X(W,{id:R("span",{children:["x: ",X("strong",{children:o.data.xFormatted}),", y:"," ",X("strong",{children:o.data.yFormatted})]}),enableChip:!0,color:o.seriesColor})})),sliceTooltip:e((function(e){var o=e.slice,i=e.axis,n=A(),r="x"===i?"y":"x";return X(I,{rows:o.points.map((function(e){return[X(F,{color:e.seriesColor,style:n.tooltip.chip},"chip"),e.seriesId,X("span",{style:n.tooltip.tableCellValue,children:e.data[r+"Formatted"]},"value")]}))})})),debugMesh:!1,renderWrapper:!0},oe=Z({},ee,{defs:[],fill:[],enablePointLabel:!1,pointLabel:"data.yFormatted",areaBlendMode:"normal",axisBottom:{},axisLeft:{},useMesh:!1,enableSlices:!1,debugSlices:!1,enableCrosshair:!0,crosshairType:"bottom-left",enableTouchCrosshair:!1,initialHiddenIds:[],animate:!0,motionConfig:"gentle",role:"img",isFocusable:!1}),ie=Z({},ee,{pixelRatio:"undefined"!=typeof window&&null!=(_=window.devicePixelRatio)?_:1,axisBottom:{},axisLeft:{}});function ne(e){return o((function(){return P().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(u(e))}),[e])}function re(e){var i=e.curve,n=e.yScale,r=e.areaBaselineValue;return o((function(){return O().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(u(i)).y0(n(r))}),[i,n,r])}var te=function(e){var i=e.componentId,n=e.enableSlices,r=e.points,t=e.width,a=e.height;return o((function(){if("x"===n){var e=new Map;return r.forEach((function(o){null!==o.data.x&&null!==o.data.y&&(e.has(o.x)?e.get(o.x).push(o):e.set(o.x,[o]))})),Array.from(e.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,n){var r,l,s=e[0],u=e[1],d=n[o-1],c=n[o+1];return r=d?s-(s-d[0])/2:s,l=c?s-r+(c[0]-s)/2:t-r,{id:"slice:"+i+":"+s,x0:r,x:s,y0:0,y:0,width:l,height:a,points:u.reverse()}}))}if("y"===n){var o=new Map;return r.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,i){var n,r,l=e[0],s=e[1],u=i[o-1],d=i[o+1];return n=u?l-(l-u[0])/2:l,r=d?l-n+(d[0]-l)/2:a-n,{id:l,x0:0,x:0,y0:n,y:l,width:t,height:r,points:s.reverse()}}))}return[]}),[i,n,a,r,t])},ae="line",le=function(e){var r=e.data,t=e.xScale,a=void 0===t?ee.xScale:t,l=e.xFormat,s=e.yScale,u=void 0===s?ee.yScale:s,c=e.yFormat,h=e.width,f=e.height,p=e.colors,v=void 0===p?ee.colors:p,b=e.curve,g=void 0===b?ee.curve:b,m=e.areaBaselineValue,y=void 0===m?ee.areaBaselineValue:m,x=e.pointColor,M=void 0===x?ee.pointColor:x,C=e.pointBorderColor,S=void 0===C?ee.pointBorderColor:C,B=e.enableSlices,w=void 0===B?oe.enableSlices:B,T=e.initialHiddenIds,k=void 0===T?oe.initialHiddenIds:T,L=i(H(ae))[0],D=d(l),W=d(c),I=V(v,"id"),F=A(),E=Y(M,F),G=Y(S,F),P=i(null!=k?k:[]),O=P[0],X=P[1],R=o((function(){return U(r.filter((function(e){return-1===O.indexOf(e.id)})),a,u,h,f)}),[r,O,a,u,h,f]),z=R.xScale,j=R.yScale,q=R.series,J=o((function(){var e=r.map((function(e){return{id:e.id,label:""+e.id,color:I(e)}})),o=e.map((function(e){return Z({},q.find((function(o){return o.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return Z({},e,{hidden:!o.find((function(o){return o.id===e.id}))})})).reverse(),series:o}}),[r,q,I]),K=J.legendData,N=J.series,Q=n((function(e){X((function(o){return o.indexOf(e)>-1?o.filter((function(o){return o!==e})):[].concat(o,[e])}))}),[]),$=function(e){var i=e.series,n=e.getPointColor,r=e.getPointBorderColor,t=e.formatX,a=e.formatY;return o((function(){return i.reduce((function(e,o,i){return[].concat(e,o.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(l,s){var u={id:o.id+"."+s,indexInSeries:s,absIndex:e.length+s,seriesIndex:i,seriesId:o.id,seriesColor:o.color,x:l.position.x,y:l.position.y,data:Z({},l.data,{xFormatted:t(l.data.x),yFormatted:a(l.data.y)})};return u.color=n({series:o,point:u}),u.borderColor=r(u),u})))}),[])}),[i,n,r,t,a])}({series:N,getPointColor:E,getPointBorderColor:G,formatX:D,formatY:W}),_=te({componentId:L,enableSlices:w,points:$,width:h,height:f});return{legendData:K,toggleSeries:Q,lineGenerator:ne(g),areaGenerator:re({curve:g,yScale:j,areaBaselineValue:y}),getColor:I,series:N,xScale:z,yScale:j,slices:_,points:$}},se=function(e){var o=e.areaBlendMode,i=e.areaOpacity,n=e.color,r=e.fill,t=e.path,a=c(),l=a.animate,s=a.config,u=h(t),d=j({color:n,config:s,immediate:!l});return X(q.path,{d:u,fill:r||d.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:o}})},ue=e((function(e){var o=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,r=e.series.slice(0).reverse();return X("g",{children:r.map((function(e){return X(se,Z({path:o(e.data.map((function(e){return e.position})))},Z({areaOpacity:i,areaBlendMode:n},e)),""+e.id)}))})})),de=e((function(e){var i=e.lineGenerator,n=e.points,r=e.color,t=e.thickness,a=o((function(){return i(n)}),[i,n]),l=h(a);return X(q.path,{d:l,fill:"none",strokeWidth:t,stroke:r})})),ce=e((function(e){var o=e.series,i=e.lineGenerator,n=e.lineWidth;return X(z,{children:o.slice(0).reverse().map((function(e){var o=e.id,r=e.data,t=e.color;return X(de,{points:r.map((function(e){return e.position})),lineGenerator:i,color:t,thickness:n},o)}))})})),he=e((function(e){var o=e.slice,i=e.slices,t=e.axis,a=e.debug,l=e.tooltip,s=e.isCurrent,u=e.setCurrent,d=e.onMouseEnter,c=e.onMouseMove,h=e.onMouseLeave,f=e.onMouseDown,p=e.onMouseUp,v=e.onClick,b=e.onDoubleClick,g=e.onTouchStart,m=e.onTouchMove,y=e.onTouchEnd,x=E(),M=x.showTooltipFromEvent,C=x.hideTooltip,S=n((function(e){M(r(l,{slice:o,axis:t}),e,"right"),u(o),null==d||d(o,e)}),[M,l,o,t,u,d]),B=n((function(e){M(r(l,{slice:o,axis:t}),e,"right"),null==c||c(o,e)}),[M,l,o,t,c]),w=n((function(e){C(),u(null),null==h||h(o,e)}),[C,u,h,o]),T=n((function(e){null==f||f(o,e)}),[o,f]),k=n((function(e){null==p||p(o,e)}),[o,p]),L=n((function(e){null==v||v(o,e)}),[o,v]),D=n((function(e){null==b||b(o,e)}),[o,b]),W=n((function(e){M(r(l,{slice:o,axis:t}),e,"right"),u(o),null==g||g(o,e)}),[t,g,u,M,o,l]),I=n((function(e){var n=e.touches[0],a=document.elementFromPoint(n.clientX,n.clientY),s=null==a?void 0:a.getAttribute("data-ref");if(s){var d=i.find((function(e){return e.id===s}));d&&(M(r(l,{slice:d,axis:t}),e,"right"),u(d))}null==m||m(o,e)}),[t,m,u,M,o,i,l]),F=n((function(e){C(),u(null),null==y||y(o,e)}),[C,u,y,o]);return X("rect",{x:o.x0,y:o.y0,width:o.width,height:o.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:S,onMouseMove:B,onMouseLeave:w,onMouseDown:T,onMouseUp:k,onClick:L,onDoubleClick:D,onTouchStart:W,onTouchMove:I,onTouchEnd:F,"data-ref":o.id})})),fe=e((function(e){var o=e.slices,i=e.axis,n=e.debug,r=e.tooltip,t=e.current,a=e.setCurrent,l=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,d=e.onMouseDown,c=e.onMouseUp,h=e.onClick,f=e.onDoubleClick,p=e.onTouchStart,v=e.onTouchMove,b=e.onTouchEnd;return X(z,{children:o.map((function(e){return X(he,{slice:e,slices:o,axis:i,debug:n,tooltip:r,setCurrent:a,isCurrent:null!==t&&t.id===e.id,onMouseEnter:l,onMouseMove:s,onMouseLeave:u,onMouseDown:d,onMouseUp:c,onClick:h,onDoubleClick:f,onTouchStart:p,onTouchMove:v,onTouchEnd:b},e.id)}))})})),pe=e((function(e){var o=e.points,i=e.symbol,n=e.size,t=e.borderWidth,a=e.enableLabel,l=e.label,s=e.labelYOffset,u=e.isFocusable,d=e.setCurrentPoint,c=e.tooltip,h=e.margin,v=e.ariaLabel,b=e.ariaLabelledBy,g=e.ariaDescribedBy,m=e.ariaHidden,y=e.ariaDisabled,x=f(l),M=E(),C=M.showTooltipAt,S=M.hideTooltip,B=o.slice(0).sort((function(e,o){return e.indexInSeries-o.indexInSeries})).sort((function(e,o){return o.seriesIndex-e.seriesIndex})).map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:a?x(e):null,ariaLabel:v?v(e):void 0,ariaLabelledBy:b?b(e):void 0,ariaDescribedBy:g?g(e):void 0,ariaHidden:m?m(e):void 0,ariaDisabled:y?y(e):void 0,onFocus:u?function(){d(e),C(r(c,{point:e}),[h.left+e.x,h.top+e.y],"top")}:void 0,onBlur:u?function(){d(null),S()}:void 0}}));return X("g",{children:B.map((function(e){return X(p,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:n,color:e.fill,borderWidth:t,borderColor:e.stroke,label:e.label,labelYOffset:s,ariaLabel:e.ariaLabel,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,ariaHidden:e.ariaHidden,ariaDisabled:e.ariaDisabled,isFocusable:u,onFocus:e.onFocus,onBlur:e.onBlur,testId:"line.point."+e.id},e.id)}))})})),ve=e((function(e){var o=e.points,i=e.width,t=e.height,a=e.margin,l=e.setCurrent,s=e.onMouseEnter,u=e.onMouseMove,d=e.onMouseLeave,c=e.onMouseDown,h=e.onMouseUp,f=e.onClick,p=e.onDoubleClick,v=e.onTouchStart,b=e.onTouchMove,g=e.onTouchEnd,m=e.tooltip,y=e.debug,x=e.enableTouchCrosshair,M=E(),C=M.showTooltipAt,S=M.hideTooltip,B=n((function(e,o){C(r(m,{point:e}),[e.x+a.left,e.y+a.top],"top"),null==s||s(e,o)}),[C,m,s,a]),w=n((function(e,o){C(r(m,{point:e}),[e.x+a.left,e.y+a.top],"top"),null==u||u(e,o)}),[C,m,a.left,a.top,u]),T=n((function(e,o){S(),null==d||d(e,o)}),[S,d]),k=n((function(e,o){null==c||c(e,o)}),[c]),L=n((function(e,o){null==h||h(e,o)}),[h]),D=n((function(e,o){null==f||f(e,o)}),[f]),W=n((function(e,o){null==p||p(e,o)}),[p]),I=n((function(e,o){C(r(m,{point:e}),[e.x+a.left,e.y+a.top],"top"),null==v||v(e,o)}),[a.left,a.top,v,C,m]),F=n((function(e,o){C(r(m,{point:e}),[e.x+a.left,e.y+a.top],"top"),null==b||b(e,o)}),[a.left,a.top,b,C,m]),G=n((function(e,o){S(),null==g||g(e,o)}),[g,S]);return X(J,{nodes:o,width:i,height:t,setCurrent:l,onMouseEnter:B,onMouseMove:w,onMouseLeave:T,onMouseDown:k,onMouseUp:L,onClick:D,onDoubleClick:W,onTouchStart:I,onTouchMove:F,onTouchEnd:G,enableTouchCrosshair:x,debug:y})})),be=["isInteractive","animate","motionConfig","theme","renderWrapper"];function ge(e){var o=e.data,n=e.xScale,r=void 0===n?oe.xScale:n,a=e.xFormat,l=e.yScale,s=void 0===l?oe.yScale:l,u=e.yFormat,d=e.curve,c=void 0===d?oe.curve:d,h=e.margin,f=e.width,p=e.height,v=e.colors,x=void 0===v?oe.colors:v,M=e.lineWidth,C=void 0===M?oe.lineWidth:M,S=e.layers,T=void 0===S?oe.layers:S,k=e.enableArea,D=void 0===k?oe.enableArea:k,W=e.areaBaselineValue,I=void 0===W?oe.areaBaselineValue:W,F=e.areaOpacity,E=void 0===F?oe.areaOpacity:F,P=e.areaBlendMode,O=void 0===P?oe.areaBlendMode:P,H=e.enablePoints,A=void 0===H?oe.enablePoints:H,V=e.pointSymbol,Y=e.pointSize,U=void 0===Y?oe.pointSize:Y,R=e.pointColor,z=void 0===R?oe.pointColor:R,j=e.pointBorderWidth,q=void 0===j?oe.pointBorderWidth:j,J=e.pointBorderColor,K=void 0===J?oe.pointBorderColor:J,N=e.enablePointLabel,Q=void 0===N?oe.enablePointLabel:N,$=e.pointLabel,_=void 0===$?oe.pointLabel:$,ee=e.pointLabelYOffset,ie=e.enableGridX,ne=void 0===ie?oe.enableGridX:ie,re=e.gridXValues,te=e.enableGridY,ae=void 0===te?oe.enableGridY:te,se=e.gridYValues,de=e.axisTop,he=e.axisRight,be=e.axisBottom,ge=void 0===be?oe.axisBottom:be,me=e.axisLeft,ye=void 0===me?oe.axisLeft:me,xe=e.defs,Me=void 0===xe?oe.defs:xe,Ce=e.fill,Se=void 0===Ce?oe.fill:Ce,Be=e.markers,we=e.legends,Te=void 0===we?oe.legends:we,ke=e.isInteractive,Le=void 0===ke?oe.isInteractive:ke,De=e.useMesh,We=void 0===De?oe.useMesh:De,Ie=e.debugMesh,Fe=void 0===Ie?oe.debugMesh:Ie,Ee=e.onMouseEnter,Ge=e.onMouseMove,Pe=e.onMouseLeave,Oe=e.onMouseDown,He=e.onMouseUp,Ae=e.onClick,Ve=e.onDoubleClick,Ye=e.onTouchStart,Ue=e.onTouchMove,Xe=e.onTouchEnd,Re=e.tooltip,ze=void 0===Re?oe.tooltip:Re,je=e.enableSlices,qe=void 0===je?oe.enableSlices:je,Je=e.debugSlices,Ke=void 0===Je?oe.debugSlices:Je,Ne=e.sliceTooltip,Qe=void 0===Ne?oe.sliceTooltip:Ne,Ze=e.enableCrosshair,$e=void 0===Ze?oe.enableCrosshair:Ze,_e=e.crosshairType,eo=void 0===_e?oe.crosshairType:_e,oo=e.enableTouchCrosshair,io=void 0===oo?oe.enableTouchCrosshair:oo,no=e.role,ro=void 0===no?oe.role:no,to=e.ariaLabel,ao=e.ariaLabelledBy,lo=e.ariaDescribedBy,so=e.isFocusable,uo=void 0===so?oe.isFocusable:so,co=e.pointAriaLabel,ho=e.pointAriaLabelledBy,fo=e.pointAriaDescribedBy,po=e.pointAriaHidden,vo=e.pointAriaDisabled,bo=e.initialHiddenIds,go=void 0===bo?oe.initialHiddenIds:bo,mo=b(f,p,h),yo=mo.margin,xo=mo.innerWidth,Mo=mo.innerHeight,Co=mo.outerWidth,So=mo.outerHeight,Bo=le({data:o,xScale:r,xFormat:a,yScale:s,yFormat:u,width:xo,height:Mo,colors:x,curve:c,areaBaselineValue:I,pointColor:z,pointBorderColor:K,enableSlices:qe,initialHiddenIds:go}),wo=Bo.legendData,To=Bo.toggleSeries,ko=Bo.lineGenerator,Lo=Bo.areaGenerator,Do=Bo.series,Wo=Bo.xScale,Io=Bo.yScale,Fo=Bo.slices,Eo=Bo.points,Go=i(null),Po=Go[0],Oo=Go[1],Ho=i(null),Ao=Ho[0],Vo=Ho[1],Yo={grid:null,markers:null,axes:null,areas:null,crosshair:null,lines:null,points:null,slices:null,mesh:null,legends:null};T.includes("grid")&&(ne||ae)&&(Yo.grid=X(B,{width:xo,height:Mo,xScale:ne?Wo:null,yScale:ae?Io:null,xValues:re,yValues:se},"grid")),T.includes("markers")&&Array.isArray(Be)&&Be.length>0&&(Yo.markers=X(g,{markers:Be,width:xo,height:Mo,xScale:Wo,yScale:Io},"markers")),T.includes("axes")&&(Yo.axes=X(w,{xScale:Wo,yScale:Io,width:xo,height:Mo,top:de,right:he,bottom:ge,left:ye},"axes")),T.includes("lines")&&(Yo.lines=X(ce,{series:Do,lineGenerator:ko,lineWidth:C},"lines")),T.includes("legends")&&Te.length>0&&(Yo.legends=X(t,{children:Te.map((function(e,o){return X(L,Z({},e,{containerWidth:xo,containerHeight:Mo,data:e.data||wo,toggleSerie:e.toggleSerie?To:void 0}),o)}))},"legends"));var Uo=m(Me,Do,Se);D&&(Yo.areas=X(ue,{areaGenerator:Lo,areaOpacity:E,areaBlendMode:O,series:Do},"areas")),Le&&!1!==qe&&(Yo.slices=X(fe,{slices:Fo,axis:qe,debug:Ke,tooltip:Qe,current:Ao,setCurrent:Vo,onMouseEnter:Ee,onMouseMove:Ge,onMouseLeave:Pe,onMouseDown:Oe,onMouseUp:He,onClick:Ae,onDoubleClick:Ve,onTouchStart:Ye,onTouchMove:Ue,onTouchEnd:Xe},"slices")),A&&(Yo.points=X(pe,{points:Eo,symbol:V,size:U,borderWidth:q,enableLabel:Q,label:_,labelYOffset:ee,isFocusable:uo,setCurrentPoint:Oo,tooltip:ze,margin:yo,ariaLabel:co,ariaLabelledBy:ho,ariaDescribedBy:fo,ariaHidden:po,ariaDisabled:vo},"points")),Le&&$e&&(null!==Po&&(Yo.crosshair=X(G,{width:xo,height:Mo,x:Po.x,y:Po.y,type:eo},"crosshair")),null!==Ao&&qe&&(Yo.crosshair=X(G,{width:xo,height:Mo,x:Ao.x,y:Ao.y,type:qe},"crosshair"))),Le&&We&&!1===qe&&(Yo.mesh=X(ve,{points:Eo,width:xo,height:Mo,margin:yo,setCurrent:Oo,onMouseEnter:Ee,onMouseMove:Ge,onMouseLeave:Pe,onMouseDown:Oe,onMouseUp:He,onClick:Ae,onDoubleClick:Ve,onTouchStart:Ye,onTouchMove:Ue,onTouchEnd:Xe,tooltip:ze,enableTouchCrosshair:io,debug:Fe},"mesh"));var Xo=Z({},e,{innerWidth:xo,innerHeight:Mo,series:Do,slices:Fo,points:Eo,xScale:Wo,yScale:Io,lineGenerator:ko,areaGenerator:Lo,currentPoint:Po,setCurrentPoint:Oo,currentSlice:Ao,setCurrentSlice:Vo});return X(y,{defs:Uo,width:Co,height:So,margin:yo,role:ro,ariaLabel:to,ariaLabelledBy:ao,ariaDescribedBy:lo,isFocusable:uo,children:T.map((function(e,o){return"function"==typeof e?X(t,{children:e(Xo)},o):Yo[e]}))})}function me(e){var o=e.isInteractive,i=void 0===o?oe.isInteractive:o,n=e.animate,r=void 0===n?oe.animate:n,t=e.motionConfig,a=void 0===t?oe.motionConfig:t,l=e.theme,s=e.renderWrapper,u=$(e,be);return X(v,{animate:r,isInteractive:i,motionConfig:a,renderWrapper:s,theme:l,children:X(ge,Z({isInteractive:i},u))})}var ye=function(e){return X(x,{children:function(o){var i=o.width,n=o.height;return X(me,Z({width:i,height:n},e))}})},xe=["isInteractive","renderWrapper","theme"],Me=function(e){var t=e.width,a=e.height,u=e.margin,d=e.pixelRatio,c=void 0===d?ie.pixelRatio:d,h=e.data,f=e.xScale,p=void 0===f?ie.xScale:f,v=e.xFormat,g=e.yScale,m=void 0===g?ie.yScale:g,y=e.yFormat,x=e.curve,B=void 0===x?ie.curve:x,w=e.layers,L=void 0===w?ie.layers:w,W=e.colors,I=void 0===W?ie.colors:W,F=e.lineWidth,G=void 0===F?ie.lineWidth:F,P=e.enableArea,O=void 0===P?ie.enableArea:P,H=e.areaBaselineValue,V=void 0===H?ie.areaBaselineValue:H,Y=e.areaOpacity,U=void 0===Y?ie.areaOpacity:Y,R=e.enablePoints,z=void 0===R?ie.enablePoints:R,j=e.pointSize,q=void 0===j?ie.pointSize:j,J=e.pointColor,$=void 0===J?ie.pointColor:J,_=e.pointBorderWidth,ee=void 0===_?ie.pointBorderWidth:_,oe=e.pointBorderColor,ne=void 0===oe?ie.pointBorderColor:oe,re=e.enableGridX,te=void 0===re?ie.enableGridX:re,ae=e.gridXValues,se=e.enableGridY,ue=void 0===se?ie.enableGridY:se,de=e.gridYValues,ce=e.axisTop,he=e.axisRight,fe=e.axisBottom,pe=void 0===fe?ie.axisBottom:fe,ve=e.axisLeft,be=void 0===ve?ie.axisLeft:ve,ge=e.legends,me=void 0===ge?ie.legends:ge,ye=e.isInteractive,xe=void 0===ye?ie.isInteractive:ye,Me=e.debugMesh,Ce=void 0===Me?ie.debugMesh:Me,Se=e.onMouseLeave,Be=e.onMouseDown,we=e.onMouseUp,Te=e.onClick,ke=e.onDoubleClick,Le=e.tooltip,De=void 0===Le?ie.tooltip:Le,We=e.forwardedRef,Ie=l(null),Fe=b(t,a,u),Ee=Fe.margin,Ge=Fe.innerWidth,Pe=Fe.innerHeight,Oe=Fe.outerWidth,He=Fe.outerHeight,Ae=A(),Ve=i(null),Ye=Ve[0],Ue=Ve[1],Xe=le({data:h,xScale:p,xFormat:v,yScale:m,yFormat:y,width:Ge,height:Pe,colors:I,curve:B,areaBaselineValue:V,pointColor:$,pointBorderColor:ne}),Re=Xe.lineGenerator,ze=Xe.areaGenerator,je=Xe.series,qe=Xe.xScale,Je=Xe.yScale,Ke=Xe.points,Ne=o((function(){return{innerWidth:Ge,innerHeight:Pe,series:je,points:Ke,xScale:qe,yScale:Je,lineWidth:G,lineGenerator:Re,areaGenerator:ze,currentPoint:Ye,setCurrentPoint:Ue}}),[Ge,Pe,je,Ke,qe,Je,G,Re,ze,Ye,Ue]),Qe=K({points:Ke,width:Ge,height:Pe,debug:Ce}),Ze=Qe.delaunay,$e=Qe.voronoi;s((function(){if(null!==Ie.current){Ie.current.width=Oe*c,Ie.current.height=He*c;var e=Ie.current.getContext("2d");e.scale(c,c),e.fillStyle=Ae.background,e.fillRect(0,0,Oe,He),e.translate(Ee.left,Ee.top),L.forEach((function(o){var i;"function"==typeof o&&o(e,Ne);var n=null!=(i=Ae.grid.line.strokeWidth)?i:0;if("grid"===o&&"string"!=typeof n&&n>0&&(e.lineWidth=n,e.strokeStyle=Ae.grid.line.stroke,te&&T(e,{width:Ge,height:Pe,scale:qe,axis:"x",values:ae}),ue&&T(e,{width:Ge,height:Pe,scale:Je,axis:"y",values:de})),"axes"===o&&k(e,{xScale:qe,yScale:Je,width:Ge,height:Pe,top:ce,right:he,bottom:pe,left:be,theme:Ae}),"areas"===o&&!0===O){e.save(),e.globalAlpha=U,ze.context(e);for(var r=je.length-1;r>=0;r--)e.fillStyle=je[r].color,e.beginPath(),ze(je[r].data.map((function(e){return e.position}))),e.fill();e.restore()}if("lines"===o&&(Re.context(e),je.forEach((function(o){e.strokeStyle=o.color,e.lineWidth=G,e.beginPath(),Re(o.data.map((function(e){return e.position}))),e.stroke()}))),"points"===o&&!0===z&&q>0&&Ke.forEach((function(o){e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,q/2,0,2*Math.PI),e.fill(),ee>0&&(e.strokeStyle=o.borderColor,e.lineWidth=ee,e.stroke())})),"mesh"===o&&!0===Ce&&void 0!==$e&&(N(e,$e),Ye&&Q(e,$e,Ye.absIndex)),"legends"===o){var t=je.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();me.forEach((function(o){D(e,Z({},o,{data:o.data||t,containerWidth:Ge,containerHeight:Pe,theme:Ae}))}))}}))}}),[Ie,Ge,Oe,Pe,He,Ee.left,Ee.top,c,L,Ae,Re,je,qe,Je,te,ae,ue,de,ce,he,pe,be,me,Ke,z,q,ee,Ye,Ne,Ce,O,ze,U,G,$e]);var _e=n((function(e){if(!Ie.current)return null;var o=M(Ie.current,e),i=o[0],n=o[1];if(!C(Ee.left,Ee.top,Ge,Pe,i,n))return null;var r=Ze.find(i-Ee.left,n-Ee.top);return Ke[r]}),[Ie,Ee,Ge,Pe,Ze,Ke]),eo=E(),oo=eo.showTooltipFromEvent,io=eo.hideTooltip,no=n((function(e){var o=_e(e);Ue(o),o?oo(r(De,{point:o}),e):io()}),[_e,Ue,oo,io,De]),ro=n((function(e){io(),Ue(null),Ye&&(null==Se||Se(Ye,e))}),[io,Ue,Se,Ye]),to=n((function(e){if(Be){var o=_e(e);o&&Be(o,e)}}),[_e,Be]),ao=n((function(e){if(we){var o=_e(e);o&&we(o,e)}}),[_e,we]),lo=n((function(e){if(Te){var o=_e(e);o&&Te(o,e)}}),[_e,Te]),so=n((function(e){if(ke){var o=_e(e);o&&ke(o,e)}}),[_e,ke]);return X("canvas",{ref:S(Ie,We),width:Oe*c,height:He*c,style:{width:Oe,height:He,cursor:xe?"auto":"normal"},onMouseEnter:xe?no:void 0,onMouseMove:xe?no:void 0,onMouseLeave:xe?ro:void 0,onMouseDown:xe?to:void 0,onMouseUp:xe?ao:void 0,onClick:xe?lo:void 0,onDoubleClick:xe?so:void 0})},Ce=a((function(e,o){var i=e.isInteractive,n=e.renderWrapper,r=e.theme,t=$(e,xe);return X(v,{isInteractive:i,renderWrapper:n,theme:r,animate:!1,children:X(Me,Z({},t,{forwardedRef:o}))})}));var Se=a((function(e,o){return X(x,{children:function(i){var n=i.width,r=i.height;return X(Ce,Z({width:n,height:r},e,{ref:o}))}})}));function Be(e){return void 0!==e.seriesId}function we(e){return void 0!==e.points}export{ae as LINE_UNIQUE_ID_PREFIX,me as Line,Ce as LineCanvas,ye as ResponsiveLine,Se as ResponsiveLineCanvas,ie as canvasDefaultProps,ee as commonDefaultProps,Be as isPoint,we as isSliceData,oe as svgDefaultProps,re as useAreaGenerator,le as useLine,ne as useLineGenerator,te as useSlices};
//# sourceMappingURL=nivo-line.mjs.map
