"use strict";var e=require("react"),o=require("@nivo/core"),i=require("@nivo/axes"),n=require("@nivo/legends"),r=require("@nivo/tooltip"),t=require("d3-shape"),a=require("lodash/uniqueId.js"),l=require("@nivo/theming"),s=require("@nivo/colors"),u=require("@nivo/scales"),d=require("react/jsx-runtime"),c=require("@react-spring/web"),h=require("@nivo/voronoi");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p.apply(null,arguments)}function v(e,o){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==o.indexOf(n))continue;i[n]=e[n]}return i}var f,b={xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},curve:"linear",colors:{scheme:"nivo"},lineWidth:2,layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],enablePoints:!0,pointSize:6,pointColor:{from:"series.color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,enableGridX:!0,enableGridY:!0,legends:[],isInteractive:!0,tooltip:e.memo((function(e){var o=e.point;return d.jsx(r.BasicTooltip,{id:d.jsxs("span",{children:["x: ",d.jsx("strong",{children:o.data.xFormatted}),", y:"," ",d.jsx("strong",{children:o.data.yFormatted})]}),enableChip:!0,color:o.seriesColor})})),sliceTooltip:e.memo((function(e){var o=e.slice,i=e.axis,n=l.useTheme(),t="x"===i?"y":"x";return d.jsx(r.TableTooltip,{rows:o.points.map((function(e){return[d.jsx(r.Chip,{color:e.seriesColor,style:n.tooltip.chip},"chip"),e.seriesId,d.jsx("span",{style:n.tooltip.tableCellValue,children:e.data[t+"Formatted"]},"value")]}))})})),debugMesh:!1,renderWrapper:!0},x=p({},b,{defs:[],fill:[],enablePointLabel:!1,pointLabel:"data.yFormatted",areaBlendMode:"normal",axisBottom:{},axisLeft:{},useMesh:!1,enableSlices:!1,debugSlices:!1,enableCrosshair:!0,crosshairType:"bottom-left",enableTouchCrosshair:!1,initialHiddenIds:[],animate:!0,motionConfig:"gentle",role:"img",isFocusable:!1}),m=p({},b,{pixelRatio:"undefined"!=typeof window&&null!=(f=window.devicePixelRatio)?f:1,axisBottom:{},axisLeft:{}});function g(i){return e.useMemo((function(){return t.line().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(o.curveFromProp(i))}),[i])}function y(i){var n=i.curve,r=i.yScale,a=i.areaBaselineValue;return e.useMemo((function(){return t.area().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(o.curveFromProp(n)).y0(r(a))}),[n,r,a])}var C=function(o){var i=o.componentId,n=o.enableSlices,r=o.points,t=o.width,a=o.height;return e.useMemo((function(){if("x"===n){var e=new Map;return r.forEach((function(o){null!==o.data.x&&null!==o.data.y&&(e.has(o.x)?e.get(o.x).push(o):e.set(o.x,[o]))})),Array.from(e.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,n){var r,l,s=e[0],u=e[1],d=n[o-1],c=n[o+1];return r=d?s-(s-d[0])/2:s,l=c?s-r+(c[0]-s)/2:t-r,{id:"slice:"+i+":"+s,x0:r,x:s,y0:0,y:0,width:l,height:a,points:u.reverse()}}))}if("y"===n){var o=new Map;return r.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(o.has(e.y)?o.get(e.y).push(e):o.set(e.y,[e]))})),Array.from(o.entries()).sort((function(e,o){return e[0]-o[0]})).map((function(e,o,i){var n,r,l=e[0],s=e[1],u=i[o-1],d=i[o+1];return n=u?l-(l-u[0])/2:l,r=d?l-n+(d[0]-l)/2:a-n,{id:l,x0:0,x:0,y0:n,y:l,width:t,height:r,points:s.reverse()}}))}return[]}),[i,n,a,r,t])},M="line",S=function(i){var n=i.data,r=i.xScale,t=void 0===r?b.xScale:r,d=i.xFormat,c=i.yScale,h=void 0===c?b.yScale:c,v=i.yFormat,f=i.width,m=i.height,S=i.colors,k=void 0===S?b.colors:S,T=i.curve,B=void 0===T?b.curve:T,w=i.areaBaselineValue,L=void 0===w?b.areaBaselineValue:w,D=i.pointColor,j=void 0===D?b.pointColor:D,I=i.pointBorderColor,E=void 0===I?b.pointBorderColor:I,W=i.enableSlices,F=void 0===W?x.enableSlices:W,P=i.initialHiddenIds,G=void 0===P?x.initialHiddenIds:P,O=e.useState(a(M))[0],A=o.useValueFormatter(d),V=o.useValueFormatter(v),H=s.useOrdinalColorScale(k,"id"),R=l.useTheme(),Y=s.useInheritedColor(j,R),q=s.useInheritedColor(E,R),U=e.useState(null!=G?G:[]),X=U[0],z=U[1],_=e.useMemo((function(){return u.computeXYScalesForSeries(n.filter((function(e){return-1===X.indexOf(e.id)})),t,h,f,m)}),[n,X,t,h,f,m]),N=_.xScale,Q=_.yScale,J=_.series,K=e.useMemo((function(){var e=n.map((function(e){return{id:e.id,label:""+e.id,color:H(e)}})),o=e.map((function(e){return p({},J.find((function(o){return o.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return p({},e,{hidden:!o.find((function(o){return o.id===e.id}))})})).reverse(),series:o}}),[n,J,H]),Z=K.legendData,$=K.series,ee=e.useCallback((function(e){z((function(o){return o.indexOf(e)>-1?o.filter((function(o){return o!==e})):[].concat(o,[e])}))}),[]),oe=function(o){var i=o.series,n=o.getPointColor,r=o.getPointBorderColor,t=o.formatX,a=o.formatY;return e.useMemo((function(){return i.reduce((function(e,o,i){return[].concat(e,o.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(l,s){var u={id:o.id+"."+s,indexInSeries:s,absIndex:e.length+s,seriesIndex:i,seriesId:o.id,seriesColor:o.color,x:l.position.x,y:l.position.y,data:p({},l.data,{xFormatted:t(l.data.x),yFormatted:a(l.data.y)})};return u.color=n({series:o,point:u}),u.borderColor=r(u),u})))}),[])}),[i,n,r,t,a])}({series:$,getPointColor:Y,getPointBorderColor:q,formatX:A,formatY:V}),ie=C({componentId:O,enableSlices:F,points:oe,width:f,height:m});return{legendData:Z,toggleSeries:ee,lineGenerator:g(B),areaGenerator:y({curve:B,yScale:Q,areaBaselineValue:L}),getColor:H,series:$,xScale:N,yScale:Q,slices:ie,points:oe}},k=function(e){var i=e.areaBlendMode,n=e.areaOpacity,r=e.color,t=e.fill,a=e.path,l=o.useMotionConfig(),s=l.animate,u=l.config,h=o.useAnimatedPath(a),p=c.useSpring({color:r,config:u,immediate:!s});return d.jsx(c.animated.path,{d:h,fill:t||p.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:i}})},T=e.memo((function(e){var o=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,r=e.series.slice(0).reverse();return d.jsx("g",{children:r.map((function(e){return d.jsx(k,p({path:o(e.data.map((function(e){return e.position})))},p({areaOpacity:i,areaBlendMode:n},e)),""+e.id)}))})})),B=e.memo((function(i){var n=i.lineGenerator,r=i.points,t=i.color,a=i.thickness,l=e.useMemo((function(){return n(r)}),[n,r]),s=o.useAnimatedPath(l);return d.jsx(c.animated.path,{d:s,fill:"none",strokeWidth:a,stroke:t})})),w=e.memo((function(e){var o=e.series,i=e.lineGenerator,n=e.lineWidth;return d.jsx(d.Fragment,{children:o.slice(0).reverse().map((function(e){var o=e.id,r=e.data,t=e.color;return d.jsx(B,{points:r.map((function(e){return e.position})),lineGenerator:i,color:t,thickness:n},o)}))})})),L=e.memo((function(o){var i=o.slice,n=o.slices,t=o.axis,a=o.debug,l=o.tooltip,s=o.isCurrent,u=o.setCurrent,c=o.onMouseEnter,h=o.onMouseMove,p=o.onMouseLeave,v=o.onMouseDown,f=o.onMouseUp,b=o.onClick,x=o.onDoubleClick,m=o.onTouchStart,g=o.onTouchMove,y=o.onTouchEnd,C=r.useTooltip(),M=C.showTooltipFromEvent,S=C.hideTooltip,k=e.useCallback((function(o){M(e.createElement(l,{slice:i,axis:t}),o,"right"),u(i),null==c||c(i,o)}),[M,l,i,t,u,c]),T=e.useCallback((function(o){M(e.createElement(l,{slice:i,axis:t}),o,"right"),null==h||h(i,o)}),[M,l,i,t,h]),B=e.useCallback((function(e){S(),u(null),null==p||p(i,e)}),[S,u,p,i]),w=e.useCallback((function(e){null==v||v(i,e)}),[i,v]),L=e.useCallback((function(e){null==f||f(i,e)}),[i,f]),D=e.useCallback((function(e){null==b||b(i,e)}),[i,b]),j=e.useCallback((function(e){null==x||x(i,e)}),[i,x]),I=e.useCallback((function(o){M(e.createElement(l,{slice:i,axis:t}),o,"right"),u(i),null==m||m(i,o)}),[t,m,u,M,i,l]),E=e.useCallback((function(o){var r=o.touches[0],a=document.elementFromPoint(r.clientX,r.clientY),s=null==a?void 0:a.getAttribute("data-ref");if(s){var d=n.find((function(e){return e.id===s}));d&&(M(e.createElement(l,{slice:d,axis:t}),o,"right"),u(d))}null==g||g(i,o)}),[t,g,u,M,i,n,l]),W=e.useCallback((function(e){S(),u(null),null==y||y(i,e)}),[S,u,y,i]);return d.jsx("rect",{x:i.x0,y:i.y0,width:i.width,height:i.height,stroke:"red",strokeWidth:a?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&a?.35:0,onMouseEnter:k,onMouseMove:T,onMouseLeave:B,onMouseDown:w,onMouseUp:L,onClick:D,onDoubleClick:j,onTouchStart:I,onTouchMove:E,onTouchEnd:W,"data-ref":i.id})})),D=e.memo((function(e){var o=e.slices,i=e.axis,n=e.debug,r=e.tooltip,t=e.current,a=e.setCurrent,l=e.onMouseEnter,s=e.onMouseMove,u=e.onMouseLeave,c=e.onMouseDown,h=e.onMouseUp,p=e.onClick,v=e.onDoubleClick,f=e.onTouchStart,b=e.onTouchMove,x=e.onTouchEnd;return d.jsx(d.Fragment,{children:o.map((function(e){return d.jsx(L,{slice:e,slices:o,axis:i,debug:n,tooltip:r,setCurrent:a,isCurrent:null!==t&&t.id===e.id,onMouseEnter:l,onMouseMove:s,onMouseLeave:u,onMouseDown:c,onMouseUp:h,onClick:p,onDoubleClick:v,onTouchStart:f,onTouchMove:b,onTouchEnd:x},e.id)}))})})),j=e.memo((function(i){var n=i.points,t=i.symbol,a=i.size,l=i.borderWidth,s=i.enableLabel,u=i.label,c=i.labelYOffset,h=i.isFocusable,p=i.setCurrentPoint,v=i.tooltip,f=i.margin,b=i.ariaLabel,x=i.ariaLabelledBy,m=i.ariaDescribedBy,g=i.ariaHidden,y=i.ariaDisabled,C=o.getLabelGenerator(u),M=r.useTooltip(),S=M.showTooltipAt,k=M.hideTooltip,T=n.slice(0).sort((function(e,o){return e.indexInSeries-o.indexInSeries})).sort((function(e,o){return o.seriesIndex-e.seriesIndex})).map((function(o){return{id:o.id,x:o.x,y:o.y,datum:o.data,fill:o.color,stroke:o.borderColor,label:s?C(o):null,ariaLabel:b?b(o):void 0,ariaLabelledBy:x?x(o):void 0,ariaDescribedBy:m?m(o):void 0,ariaHidden:g?g(o):void 0,ariaDisabled:y?y(o):void 0,onFocus:h?function(){p(o),S(e.createElement(v,{point:o}),[f.left+o.x,f.top+o.y],"top")}:void 0,onBlur:h?function(){p(null),k()}:void 0}}));return d.jsx("g",{children:T.map((function(e){return d.jsx(o.DotsItem,{x:e.x,y:e.y,datum:e.datum,symbol:t,size:a,color:e.fill,borderWidth:l,borderColor:e.stroke,label:e.label,labelYOffset:c,ariaLabel:e.ariaLabel,ariaLabelledBy:e.ariaLabelledBy,ariaDescribedBy:e.ariaDescribedBy,ariaHidden:e.ariaHidden,ariaDisabled:e.ariaDisabled,isFocusable:h,onFocus:e.onFocus,onBlur:e.onBlur,testId:"line.point."+e.id},e.id)}))})})),I=e.memo((function(o){var i=o.points,n=o.width,t=o.height,a=o.margin,l=o.setCurrent,s=o.onMouseEnter,u=o.onMouseMove,c=o.onMouseLeave,p=o.onMouseDown,v=o.onMouseUp,f=o.onClick,b=o.onDoubleClick,x=o.onTouchStart,m=o.onTouchMove,g=o.onTouchEnd,y=o.tooltip,C=o.debug,M=o.enableTouchCrosshair,S=r.useTooltip(),k=S.showTooltipAt,T=S.hideTooltip,B=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==s||s(o,i)}),[k,y,s,a]),w=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==u||u(o,i)}),[k,y,a.left,a.top,u]),L=e.useCallback((function(e,o){T(),null==c||c(e,o)}),[T,c]),D=e.useCallback((function(e,o){null==p||p(e,o)}),[p]),j=e.useCallback((function(e,o){null==v||v(e,o)}),[v]),I=e.useCallback((function(e,o){null==f||f(e,o)}),[f]),E=e.useCallback((function(e,o){null==b||b(e,o)}),[b]),W=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==x||x(o,i)}),[a.left,a.top,x,k,y]),F=e.useCallback((function(o,i){k(e.createElement(y,{point:o}),[o.x+a.left,o.y+a.top],"top"),null==m||m(o,i)}),[a.left,a.top,m,k,y]),P=e.useCallback((function(e,o){T(),null==g||g(e,o)}),[g,T]);return d.jsx(h.Mesh,{nodes:i,width:n,height:t,setCurrent:l,onMouseEnter:B,onMouseMove:w,onMouseLeave:L,onMouseDown:D,onMouseUp:j,onClick:I,onDoubleClick:E,onTouchStart:W,onTouchMove:F,onTouchEnd:P,enableTouchCrosshair:M,debug:C})})),E=["isInteractive","animate","motionConfig","theme","renderWrapper"];function W(t){var a=t.data,l=t.xScale,s=void 0===l?x.xScale:l,u=t.xFormat,c=t.yScale,h=void 0===c?x.yScale:c,v=t.yFormat,f=t.curve,b=void 0===f?x.curve:f,m=t.margin,g=t.width,y=t.height,C=t.colors,M=void 0===C?x.colors:C,k=t.lineWidth,B=void 0===k?x.lineWidth:k,L=t.layers,E=void 0===L?x.layers:L,W=t.enableArea,F=void 0===W?x.enableArea:W,P=t.areaBaselineValue,G=void 0===P?x.areaBaselineValue:P,O=t.areaOpacity,A=void 0===O?x.areaOpacity:O,V=t.areaBlendMode,H=void 0===V?x.areaBlendMode:V,R=t.enablePoints,Y=void 0===R?x.enablePoints:R,q=t.pointSymbol,U=t.pointSize,X=void 0===U?x.pointSize:U,z=t.pointColor,_=void 0===z?x.pointColor:z,N=t.pointBorderWidth,Q=void 0===N?x.pointBorderWidth:N,J=t.pointBorderColor,K=void 0===J?x.pointBorderColor:J,Z=t.enablePointLabel,$=void 0===Z?x.enablePointLabel:Z,ee=t.pointLabel,oe=void 0===ee?x.pointLabel:ee,ie=t.pointLabelYOffset,ne=t.enableGridX,re=void 0===ne?x.enableGridX:ne,te=t.gridXValues,ae=t.enableGridY,le=void 0===ae?x.enableGridY:ae,se=t.gridYValues,ue=t.axisTop,de=t.axisRight,ce=t.axisBottom,he=void 0===ce?x.axisBottom:ce,pe=t.axisLeft,ve=void 0===pe?x.axisLeft:pe,fe=t.defs,be=void 0===fe?x.defs:fe,xe=t.fill,me=void 0===xe?x.fill:xe,ge=t.markers,ye=t.legends,Ce=void 0===ye?x.legends:ye,Me=t.isInteractive,Se=void 0===Me?x.isInteractive:Me,ke=t.useMesh,Te=void 0===ke?x.useMesh:ke,Be=t.debugMesh,we=void 0===Be?x.debugMesh:Be,Le=t.onMouseEnter,De=t.onMouseMove,je=t.onMouseLeave,Ie=t.onMouseDown,Ee=t.onMouseUp,We=t.onClick,Fe=t.onDoubleClick,Pe=t.onTouchStart,Ge=t.onTouchMove,Oe=t.onTouchEnd,Ae=t.tooltip,Ve=void 0===Ae?x.tooltip:Ae,He=t.enableSlices,Re=void 0===He?x.enableSlices:He,Ye=t.debugSlices,qe=void 0===Ye?x.debugSlices:Ye,Ue=t.sliceTooltip,Xe=void 0===Ue?x.sliceTooltip:Ue,ze=t.enableCrosshair,_e=void 0===ze?x.enableCrosshair:ze,Ne=t.crosshairType,Qe=void 0===Ne?x.crosshairType:Ne,Je=t.enableTouchCrosshair,Ke=void 0===Je?x.enableTouchCrosshair:Je,Ze=t.role,$e=void 0===Ze?x.role:Ze,eo=t.ariaLabel,oo=t.ariaLabelledBy,io=t.ariaDescribedBy,no=t.isFocusable,ro=void 0===no?x.isFocusable:no,to=t.pointAriaLabel,ao=t.pointAriaLabelledBy,lo=t.pointAriaDescribedBy,so=t.pointAriaHidden,uo=t.pointAriaDisabled,co=t.initialHiddenIds,ho=void 0===co?x.initialHiddenIds:co,po=o.useDimensions(g,y,m),vo=po.margin,fo=po.innerWidth,bo=po.innerHeight,xo=po.outerWidth,mo=po.outerHeight,go=S({data:a,xScale:s,xFormat:u,yScale:h,yFormat:v,width:fo,height:bo,colors:M,curve:b,areaBaselineValue:G,pointColor:_,pointBorderColor:K,enableSlices:Re,initialHiddenIds:ho}),yo=go.legendData,Co=go.toggleSeries,Mo=go.lineGenerator,So=go.areaGenerator,ko=go.series,To=go.xScale,Bo=go.yScale,wo=go.slices,Lo=go.points,Do=e.useState(null),jo=Do[0],Io=Do[1],Eo=e.useState(null),Wo=Eo[0],Fo=Eo[1],Po={grid:null,markers:null,axes:null,areas:null,crosshair:null,lines:null,points:null,slices:null,mesh:null,legends:null};E.includes("grid")&&(re||le)&&(Po.grid=d.jsx(i.Grid,{width:fo,height:bo,xScale:re?To:null,yScale:le?Bo:null,xValues:te,yValues:se},"grid")),E.includes("markers")&&Array.isArray(ge)&&ge.length>0&&(Po.markers=d.jsx(o.CartesianMarkers,{markers:ge,width:fo,height:bo,xScale:To,yScale:Bo},"markers")),E.includes("axes")&&(Po.axes=d.jsx(i.Axes,{xScale:To,yScale:Bo,width:fo,height:bo,top:ue,right:de,bottom:he,left:ve},"axes")),E.includes("lines")&&(Po.lines=d.jsx(w,{series:ko,lineGenerator:Mo,lineWidth:B},"lines")),E.includes("legends")&&Ce.length>0&&(Po.legends=d.jsx(e.Fragment,{children:Ce.map((function(e,o){return d.jsx(n.BoxLegendSvg,p({},e,{containerWidth:fo,containerHeight:bo,data:e.data||yo,toggleSerie:e.toggleSerie?Co:void 0}),o)}))},"legends"));var Go=o.bindDefs(be,ko,me);F&&(Po.areas=d.jsx(T,{areaGenerator:So,areaOpacity:A,areaBlendMode:H,series:ko},"areas")),Se&&!1!==Re&&(Po.slices=d.jsx(D,{slices:wo,axis:Re,debug:qe,tooltip:Xe,current:Wo,setCurrent:Fo,onMouseEnter:Le,onMouseMove:De,onMouseLeave:je,onMouseDown:Ie,onMouseUp:Ee,onClick:We,onDoubleClick:Fe,onTouchStart:Pe,onTouchMove:Ge,onTouchEnd:Oe},"slices")),Y&&(Po.points=d.jsx(j,{points:Lo,symbol:q,size:X,borderWidth:Q,enableLabel:$,label:oe,labelYOffset:ie,isFocusable:ro,setCurrentPoint:Io,tooltip:Ve,margin:vo,ariaLabel:to,ariaLabelledBy:ao,ariaDescribedBy:lo,ariaHidden:so,ariaDisabled:uo},"points")),Se&&_e&&(null!==jo&&(Po.crosshair=d.jsx(r.Crosshair,{width:fo,height:bo,x:jo.x,y:jo.y,type:Qe},"crosshair")),null!==Wo&&Re&&(Po.crosshair=d.jsx(r.Crosshair,{width:fo,height:bo,x:Wo.x,y:Wo.y,type:Re},"crosshair"))),Se&&Te&&!1===Re&&(Po.mesh=d.jsx(I,{points:Lo,width:fo,height:bo,margin:vo,setCurrent:Io,onMouseEnter:Le,onMouseMove:De,onMouseLeave:je,onMouseDown:Ie,onMouseUp:Ee,onClick:We,onDoubleClick:Fe,onTouchStart:Pe,onTouchMove:Ge,onTouchEnd:Oe,tooltip:Ve,enableTouchCrosshair:Ke,debug:we},"mesh"));var Oo=p({},t,{innerWidth:fo,innerHeight:bo,series:ko,slices:wo,points:Lo,xScale:To,yScale:Bo,lineGenerator:Mo,areaGenerator:So,currentPoint:jo,setCurrentPoint:Io,currentSlice:Wo,setCurrentSlice:Fo});return d.jsx(o.SvgWrapper,{defs:Go,width:xo,height:mo,margin:vo,role:$e,ariaLabel:eo,ariaLabelledBy:oo,ariaDescribedBy:io,isFocusable:ro,children:E.map((function(o,i){return"function"==typeof o?d.jsx(e.Fragment,{children:o(Oo)},i):Po[o]}))})}function F(e){var i=e.isInteractive,n=void 0===i?x.isInteractive:i,r=e.animate,t=void 0===r?x.animate:r,a=e.motionConfig,l=void 0===a?x.motionConfig:a,s=e.theme,u=e.renderWrapper,c=v(e,E);return d.jsx(o.Container,{animate:t,isInteractive:n,motionConfig:l,renderWrapper:u,theme:s,children:d.jsx(W,p({isInteractive:n},c))})}var P=["isInteractive","renderWrapper","theme"],G=function(t){var a=t.width,s=t.height,u=t.margin,c=t.pixelRatio,v=void 0===c?m.pixelRatio:c,f=t.data,b=t.xScale,x=void 0===b?m.xScale:b,g=t.xFormat,y=t.yScale,C=void 0===y?m.yScale:y,M=t.yFormat,k=t.curve,T=void 0===k?m.curve:k,B=t.layers,w=void 0===B?m.layers:B,L=t.colors,D=void 0===L?m.colors:L,j=t.lineWidth,I=void 0===j?m.lineWidth:j,E=t.enableArea,W=void 0===E?m.enableArea:E,F=t.areaBaselineValue,P=void 0===F?m.areaBaselineValue:F,G=t.areaOpacity,O=void 0===G?m.areaOpacity:G,A=t.enablePoints,V=void 0===A?m.enablePoints:A,H=t.pointSize,R=void 0===H?m.pointSize:H,Y=t.pointColor,q=void 0===Y?m.pointColor:Y,U=t.pointBorderWidth,X=void 0===U?m.pointBorderWidth:U,z=t.pointBorderColor,_=void 0===z?m.pointBorderColor:z,N=t.enableGridX,Q=void 0===N?m.enableGridX:N,J=t.gridXValues,K=t.enableGridY,Z=void 0===K?m.enableGridY:K,$=t.gridYValues,ee=t.axisTop,oe=t.axisRight,ie=t.axisBottom,ne=void 0===ie?m.axisBottom:ie,re=t.axisLeft,te=void 0===re?m.axisLeft:re,ae=t.legends,le=void 0===ae?m.legends:ae,se=t.isInteractive,ue=void 0===se?m.isInteractive:se,de=t.debugMesh,ce=void 0===de?m.debugMesh:de,he=t.onMouseLeave,pe=t.onMouseDown,ve=t.onMouseUp,fe=t.onClick,be=t.onDoubleClick,xe=t.tooltip,me=void 0===xe?m.tooltip:xe,ge=t.forwardedRef,ye=e.useRef(null),Ce=o.useDimensions(a,s,u),Me=Ce.margin,Se=Ce.innerWidth,ke=Ce.innerHeight,Te=Ce.outerWidth,Be=Ce.outerHeight,we=l.useTheme(),Le=e.useState(null),De=Le[0],je=Le[1],Ie=S({data:f,xScale:x,xFormat:g,yScale:C,yFormat:M,width:Se,height:ke,colors:D,curve:T,areaBaselineValue:P,pointColor:q,pointBorderColor:_}),Ee=Ie.lineGenerator,We=Ie.areaGenerator,Fe=Ie.series,Pe=Ie.xScale,Ge=Ie.yScale,Oe=Ie.points,Ae=e.useMemo((function(){return{innerWidth:Se,innerHeight:ke,series:Fe,points:Oe,xScale:Pe,yScale:Ge,lineWidth:I,lineGenerator:Ee,areaGenerator:We,currentPoint:De,setCurrentPoint:je}}),[Se,ke,Fe,Oe,Pe,Ge,I,Ee,We,De,je]),Ve=h.useVoronoiMesh({points:Oe,width:Se,height:ke,debug:ce}),He=Ve.delaunay,Re=Ve.voronoi;e.useEffect((function(){if(null!==ye.current){ye.current.width=Te*v,ye.current.height=Be*v;var e=ye.current.getContext("2d");e.scale(v,v),e.fillStyle=we.background,e.fillRect(0,0,Te,Be),e.translate(Me.left,Me.top),w.forEach((function(o){var r;"function"==typeof o&&o(e,Ae);var t=null!=(r=we.grid.line.strokeWidth)?r:0;if("grid"===o&&"string"!=typeof t&&t>0&&(e.lineWidth=t,e.strokeStyle=we.grid.line.stroke,Q&&i.renderGridLinesToCanvas(e,{width:Se,height:ke,scale:Pe,axis:"x",values:J}),Z&&i.renderGridLinesToCanvas(e,{width:Se,height:ke,scale:Ge,axis:"y",values:$})),"axes"===o&&i.renderAxesToCanvas(e,{xScale:Pe,yScale:Ge,width:Se,height:ke,top:ee,right:oe,bottom:ne,left:te,theme:we}),"areas"===o&&!0===W){e.save(),e.globalAlpha=O,We.context(e);for(var a=Fe.length-1;a>=0;a--)e.fillStyle=Fe[a].color,e.beginPath(),We(Fe[a].data.map((function(e){return e.position}))),e.fill();e.restore()}if("lines"===o&&(Ee.context(e),Fe.forEach((function(o){e.strokeStyle=o.color,e.lineWidth=I,e.beginPath(),Ee(o.data.map((function(e){return e.position}))),e.stroke()}))),"points"===o&&!0===V&&R>0&&Oe.forEach((function(o){e.fillStyle=o.color,e.beginPath(),e.arc(o.x,o.y,R/2,0,2*Math.PI),e.fill(),X>0&&(e.strokeStyle=o.borderColor,e.lineWidth=X,e.stroke())})),"mesh"===o&&!0===ce&&void 0!==Re&&(h.renderVoronoiToCanvas(e,Re),De&&h.renderVoronoiCellToCanvas(e,Re,De.absIndex)),"legends"===o){var l=Fe.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();le.forEach((function(o){n.renderLegendToCanvas(e,p({},o,{data:o.data||l,containerWidth:Se,containerHeight:ke,theme:we}))}))}}))}}),[ye,Se,Te,ke,Be,Me.left,Me.top,v,w,we,Ee,Fe,Pe,Ge,Q,J,Z,$,ee,oe,ne,te,le,Oe,V,R,X,De,Ae,ce,W,We,O,I,Re]);var Ye=e.useCallback((function(e){if(!ye.current)return null;var i=o.getRelativeCursor(ye.current,e),n=i[0],r=i[1];if(!o.isCursorInRect(Me.left,Me.top,Se,ke,n,r))return null;var t=He.find(n-Me.left,r-Me.top);return Oe[t]}),[ye,Me,Se,ke,He,Oe]),qe=r.useTooltip(),Ue=qe.showTooltipFromEvent,Xe=qe.hideTooltip,ze=e.useCallback((function(o){var i=Ye(o);je(i),i?Ue(e.createElement(me,{point:i}),o):Xe()}),[Ye,je,Ue,Xe,me]),_e=e.useCallback((function(e){Xe(),je(null),De&&(null==he||he(De,e))}),[Xe,je,he,De]),Ne=e.useCallback((function(e){if(pe){var o=Ye(e);o&&pe(o,e)}}),[Ye,pe]),Qe=e.useCallback((function(e){if(ve){var o=Ye(e);o&&ve(o,e)}}),[Ye,ve]),Je=e.useCallback((function(e){if(fe){var o=Ye(e);o&&fe(o,e)}}),[Ye,fe]),Ke=e.useCallback((function(e){if(be){var o=Ye(e);o&&be(o,e)}}),[Ye,be]);return d.jsx("canvas",{ref:o.mergeRefs(ye,ge),width:Te*v,height:Be*v,style:{width:Te,height:Be,cursor:ue?"auto":"normal"},onMouseEnter:ue?ze:void 0,onMouseMove:ue?ze:void 0,onMouseLeave:ue?_e:void 0,onMouseDown:ue?Ne:void 0,onMouseUp:ue?Qe:void 0,onClick:ue?Je:void 0,onDoubleClick:ue?Ke:void 0})},O=e.forwardRef((function(e,i){var n=e.isInteractive,r=e.renderWrapper,t=e.theme,a=v(e,P);return d.jsx(o.Container,{isInteractive:n,renderWrapper:r,theme:t,animate:!1,children:d.jsx(G,p({},a,{forwardedRef:i}))})}));var A=e.forwardRef((function(e,i){return d.jsx(o.ResponsiveWrapper,{children:function(o){var n=o.width,r=o.height;return d.jsx(O,p({width:n,height:r},e,{ref:i}))}})}));exports.LINE_UNIQUE_ID_PREFIX=M,exports.Line=F,exports.LineCanvas=O,exports.ResponsiveLine=function(e){return d.jsx(o.ResponsiveWrapper,{children:function(o){var i=o.width,n=o.height;return d.jsx(F,p({width:i,height:n},e))}})},exports.ResponsiveLineCanvas=A,exports.canvasDefaultProps=m,exports.commonDefaultProps=b,exports.isPoint=function(e){return void 0!==e.seriesId},exports.isSliceData=function(e){return void 0!==e.points},exports.svgDefaultProps=x,exports.useAreaGenerator=y,exports.useLine=S,exports.useLineGenerator=g,exports.useSlices=C;
//# sourceMappingURL=nivo-line.cjs.js.map
