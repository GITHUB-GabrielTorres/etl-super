"use strict";var t=require("react/jsx-runtime"),e=require("d3-scale"),i=require("@nivo/core"),n=require("@nivo/colors"),o=require("react"),r=require("@nivo/theming"),l=require("@nivo/text");function a(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var s=a(o),c=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("circle",{r:o/2,cx:i+o/2,cy:n+o/2,fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})},d=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("g",{transform:"translate("+i+","+n+")",children:t.jsx("path",{d:"\n                    M"+o/2+" 0\n                    L"+.8*o+" "+o/2+"\n                    L"+o/2+" "+o+"\n                    L"+.2*o+" "+o/2+"\n                    L"+o/2+" 0\n                ",fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})})},g=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("rect",{x:i,y:n,fill:r,opacity:a,strokeWidth:c,stroke:g,width:o,height:o,style:{pointerEvents:"none"}})},h=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("g",{transform:"translate("+i+","+n+")",children:t.jsx("path",{d:"\n                M"+o/2+" 0\n                L"+o+" "+o+"\n                L0 "+o+"\n                L"+o/2+" 0\n            ",fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})})};function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)({}).hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u.apply(null,arguments)}var m={length:200,thickness:16,direction:"row",tickPosition:"after",tickSize:4,tickSpacing:3,tickOverlap:!1,tickFormat:function(t){return""+t},titleAlign:"start",titleOffset:4},v={top:0,right:0,bottom:0,left:0},f=function(t){var e,i=t.direction,n=t.itemsSpacing,o=t.padding,r=t.itemCount,l=t.itemWidth,a=t.itemHeight;if("number"!=typeof o&&("object"!=typeof(e=o)||Array.isArray(e)||null===e))throw new Error("Invalid property padding, must be one of: number, object");var s="number"==typeof o?{top:o,right:o,bottom:o,left:o}:u({},v,o),c=s.left+s.right,d=s.top+s.bottom,g=l+c,h=a+d,m=(r-1)*n;return"row"===i?g=l*r+m+c:"column"===i&&(h=a*r+m+d),{width:g,height:h,padding:s}},p=function(t){var e=t.anchor,i=t.translateX,n=t.translateY,o=t.containerWidth,r=t.containerHeight,l=t.width,a=t.height,s=i,c=n;switch(e){case"top":s+=(o-l)/2;break;case"top-right":s+=o-l;break;case"right":s+=o-l,c+=(r-a)/2;break;case"bottom-right":s+=o-l,c+=r-a;break;case"bottom":s+=(o-l)/2,c+=r-a;break;case"bottom-left":c+=r-a;break;case"left":c+=(r-a)/2;break;case"center":s+=(o-l)/2,c+=(r-a)/2}return{x:s,y:c}},x=function(t){var e,i,n,o,r,l,a=t.direction,s=t.justify,c=t.symbolSize,d=t.symbolSpacing,g=t.width,h=t.height;switch(a){case"left-to-right":e=0,i=(h-c)/2,o=h/2,l="central",s?(n=g,r="end"):(n=c+d,r="start");break;case"right-to-left":e=g-c,i=(h-c)/2,o=h/2,l="central",s?(n=0,r="start"):(n=g-c-d,r="end");break;case"top-to-bottom":e=(g-c)/2,i=0,n=g/2,r="middle",s?(o=h,l="alphabetic"):(o=c+d,l="text-before-edge");break;case"bottom-to-top":e=(g-c)/2,i=h-c,n=g/2,r="middle",s?(o=0,l="text-before-edge"):(o=h-c-d,l="alphabetic")}return{symbolX:e,symbolY:i,labelX:n,labelY:o,labelAnchor:r,labelAlignment:l}},y=function(t){var o,r=t.scale,l=t.ticks,a=t.length,s=void 0===a?m.length:a,c=t.thickness,d=void 0===c?m.thickness:c,g=t.direction,h=void 0===g?m.direction:g,u=t.tickPosition,v=void 0===u?m.tickPosition:u,f=t.tickSize,p=void 0===f?m.tickSize:f,x=t.tickSpacing,y=void 0===x?m.tickSpacing:x,b=t.tickOverlap,k=void 0===b?m.tickOverlap:b,S=t.tickFormat,C=void 0===S?m.tickFormat:S,A=t.title,j=t.titleAlign,w=void 0===j?m.titleAlign:j,z=t.titleOffset,W=void 0===z?m.titleOffset:z,O="column"===h?[].concat(r.domain()).reverse():r.domain(),X=e.scaleLinear().domain(O);2===O.length?X.range([0,s]):3===O.length&&X.range([0,s/2,s]),o="thresholds"in r?[O[0]].concat(r.thresholds(),[O[1]]):Array.isArray(l)?l:r.ticks(l);var Y,B,L,H,T,E,F=n.computeContinuousColorScaleColorStops(r,32),M=i.getValueFormatter(C),P=[],q=0,D=0;if("row"===h){var V,R,G;Y=s,B=d,D=1;var I;T=0,L="start"===w?0:"middle"===w?s/2:s,"before"===v?(V=-p,R=k?d:0,G=-p-y,I="alphabetic",H=d+W,E="hanging"):(V=k?0:d,G=(R=d+p)+y,I="hanging",H=-W,E="alphabetic"),o.forEach((function(t){var e=X(t);P.push({x1:e,y1:V,x2:e,y2:R,text:M(t),textX:e,textY:G,textHorizontalAlign:"middle",textVerticalAlign:I})}))}else{var Q,_,J,K;Y=d,B=s,q=1;T=-90,H="start"===w?s:"middle"===w?s/2:0,"before"===v?(_=k?d:0,J=(Q=-p)-y,K="end",L=d+W,E="hanging"):(Q=k?0:d,J=(_=d+p)+y,K="start",L=-W,E="alphabetic"),o.forEach((function(t){var e=X(t);P.push({x1:Q,y1:e,x2:_,y2:e,text:M(t),textX:J,textY:e,textHorizontalAlign:K,textVerticalAlign:"central"})}))}return{width:Y,height:B,gradientX1:0,gradientY1:q,gradientX2:D,gradientY2:0,colorStops:F,ticks:P,titleText:A,titleX:L,titleY:H,titleRotation:T,titleHorizontalAlign:w,titleVerticalAlign:E}},b=function(e){var i=e.scale,n=e.ticks,a=e.length,s=void 0===a?m.length:a,c=e.thickness,d=void 0===c?m.thickness:c,g=e.direction,h=void 0===g?m.direction:g,u=e.tickPosition,v=void 0===u?m.tickPosition:u,f=e.tickSize,p=void 0===f?m.tickSize:f,x=e.tickSpacing,b=void 0===x?m.tickSpacing:x,k=e.tickOverlap,S=void 0===k?m.tickOverlap:k,C=e.tickFormat,A=void 0===C?m.tickFormat:C,j=e.title,w=e.titleAlign,z=void 0===w?m.titleAlign:w,W=e.titleOffset,O=y({scale:i,ticks:n,length:s,thickness:d,direction:h,tickPosition:v,tickSize:p,tickSpacing:b,tickOverlap:S,tickFormat:A,title:j,titleAlign:z,titleOffset:void 0===W?m.titleOffset:W}),X=O.width,Y=O.height,B=O.gradientX1,L=O.gradientY1,H=O.gradientX2,T=O.gradientY2,E=O.ticks,F=O.colorStops,M=O.titleText,P=O.titleX,q=O.titleY,D=O.titleRotation,V=O.titleVerticalAlign,R=O.titleHorizontalAlign,G=r.useTheme(),I="ContinuousColorsLegendSvgGradient."+h+"."+F.map((function(t){return t.stopColor.replace(/[(),\s]/g,"")+"."+t.offset})).join("_");return t.jsxs("g",{children:[t.jsx("defs",{children:t.jsx("linearGradient",{id:I,x1:B,y1:L,x2:H,y2:T,children:F.map((function(e){return t.jsx("stop",{offset:e.offset,stopColor:e.stopColor},e.key)}))})}),M&&t.jsx("text",{transform:"translate("+P+", "+q+") rotate("+D+")",textAnchor:R,dominantBaseline:V,style:G.legends.title.text,children:M}),t.jsx("rect",{width:X,height:Y,fill:"url(#"+I}),E.map((function(e,i){return t.jsxs(o.Fragment,{children:[t.jsx("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,style:G.legends.ticks.line}),t.jsx(l.Text,{x:e.textX,y:e.textY,textAnchor:e.textHorizontalAlign,dominantBaseline:e.textVerticalAlign,style:G.legends.ticks.text,children:e.text})]},i)}))]})},k=["containerWidth","containerHeight","anchor","translateX","translateY","length","thickness","direction"],S={circle:c,diamond:d,square:g,triangle:h},C=function(e){var i,n,a,c,d,g,h,m,v,f,p,y=e.x,b=e.y,k=e.width,C=e.height,A=e.data,j=e.direction,w=void 0===j?"left-to-right":j,z=e.justify,W=void 0!==z&&z,O=e.textColor,X=e.background,Y=void 0===X?"transparent":X,B=e.opacity,L=void 0===B?1:B,H=e.symbolShape,T=void 0===H?"square":H,E=e.symbolSize,F=void 0===E?16:E,M=e.symbolSpacing,P=void 0===M?8:M,q=e.symbolBorderWidth,D=void 0===q?0:q,V=e.symbolBorderColor,R=void 0===V?"transparent":V,G=e.onClick,I=e.onMouseEnter,Q=e.onMouseLeave,_=e.toggleSerie,J=e.effects,K=o.useState({}),N=K[0],U=K[1],Z=r.useTheme(),$=o.useCallback((function(t){if(J){var e=J.filter((function(t){return"hover"===t.on})).reduce((function(t,e){return u({},t,e.style)}),{});U(e)}null==I||I(A,t)}),[I,A,J]),tt=o.useCallback((function(t){if(J){var e=J.filter((function(t){return"hover"!==t.on})).reduce((function(t,e){return u({},t,e.style)}),{});U(e)}null==Q||Q(A,t)}),[Q,A,J]),et=x({direction:w,justify:W,symbolSize:null!=(i=N.symbolSize)?i:F,symbolSpacing:P,width:k,height:C}),it=et.symbolX,nt=et.symbolY,ot=et.labelX,rt=et.labelY,lt=et.labelAnchor,at=et.labelAlignment,st=[G,I,Q,_].some((function(t){return void 0!==t})),ct="function"==typeof T?T:S[T];return t.jsxs("g",{transform:"translate("+y+","+b+")",style:{opacity:null!=(n=N.itemOpacity)?n:L},children:[t.jsx("rect",{width:k,height:C,fill:null!=(a=N.itemBackground)?a:Y,style:{cursor:st?"pointer":"auto"},onClick:function(t){null==G||G(A,t),null==_||_(A.id)},onMouseEnter:$,onMouseLeave:tt}),s.createElement(ct,u({id:A.id,x:it,y:nt,size:null!=(c=N.symbolSize)?c:F,fill:null!=(d=null!=(g=A.fill)?g:A.color)?d:"black",borderWidth:null!=(h=N.symbolBorderWidth)?h:D,borderColor:null!=(m=N.symbolBorderColor)?m:R},A.hidden?Z.legends.hidden.symbol:void 0)),t.jsx(l.Text,{textAnchor:lt,style:u({},Z.legends.text,{fill:null!=(v=null!=(f=null!=(p=N.itemTextColor)?p:O)?f:Z.legends.text.fill)?v:"black",dominantBaseline:at,pointerEvents:"none",userSelect:"none"},A.hidden?Z.legends.hidden.text:void 0),x:ot,y:rt,children:A.label})]})},A=function(e){var i=e.data,n=e.x,o=e.y,r=e.direction,l=e.padding,a=void 0===l?0:l,s=e.justify,c=e.effects,d=e.itemWidth,g=e.itemHeight,h=e.itemDirection,u=void 0===h?"left-to-right":h,m=e.itemsSpacing,v=void 0===m?0:m,p=e.itemTextColor,x=e.itemBackground,y=void 0===x?"transparent":x,b=e.itemOpacity,k=void 0===b?1:b,S=e.symbolShape,A=e.symbolSize,j=e.symbolSpacing,w=e.symbolBorderWidth,z=e.symbolBorderColor,W=e.onClick,O=e.onMouseEnter,X=e.onMouseLeave,Y=e.toggleSerie,B=f({itemCount:i.length,itemWidth:d,itemHeight:g,itemsSpacing:v,direction:r,padding:a}).padding,L="row"===r?d+v:0,H="column"===r?g+v:0;return t.jsx("g",{transform:"translate("+n+","+o+")",children:i.map((function(e,i){return t.jsx(C,{data:e,x:i*L+B.left,y:i*H+B.top,width:d,height:g,direction:u,justify:s,effects:c,textColor:p,background:y,opacity:k,symbolShape:S,symbolSize:A,symbolSpacing:j,symbolBorderWidth:w,symbolBorderColor:z,onClick:W,onMouseEnter:O,onMouseLeave:X,toggleSerie:Y},i)}))})},j={start:"left",middle:"center",end:"right"};exports.AnchoredContinuousColorsLegendSvg=function(e){var i,n,o=e.containerWidth,r=e.containerHeight,l=e.anchor,a=e.translateX,s=void 0===a?0:a,c=e.translateY,d=void 0===c?0:c,g=e.length,h=void 0===g?m.length:g,v=e.thickness,f=void 0===v?m.thickness:v,x=e.direction,y=void 0===x?m.direction:x,S=function(t,e){if(null==t)return{};var i={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(-1!==e.indexOf(n))continue;i[n]=t[n]}return i}(e,k);"row"===y?(i=h,n=f):(i=f,n=h);var C=p({anchor:l,translateX:s,translateY:d,containerWidth:o,containerHeight:r,width:i,height:n}),A=C.x,j=C.y;return t.jsx("g",{transform:"translate("+A+", "+j+")",children:t.jsx(b,u({length:h,thickness:f,direction:y},S))})},exports.BoxLegendSvg=function(e){var i=e.data,n=e.containerWidth,o=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,s=void 0===a?0:a,c=e.anchor,d=e.direction,g=e.padding,h=void 0===g?0:g,u=e.justify,m=e.itemsSpacing,v=void 0===m?0:m,x=e.itemWidth,y=e.itemHeight,b=e.itemDirection,k=e.itemTextColor,S=e.itemBackground,C=e.itemOpacity,j=e.symbolShape,w=e.symbolSize,z=e.symbolSpacing,W=e.symbolBorderWidth,O=e.symbolBorderColor,X=e.onClick,Y=e.onMouseEnter,B=e.onMouseLeave,L=e.toggleSerie,H=e.effects,T=f({itemCount:i.length,itemsSpacing:v,itemWidth:x,itemHeight:y,direction:d,padding:h}),E=T.width,F=T.height,M=p({anchor:c,translateX:l,translateY:s,containerWidth:n,containerHeight:o,width:E,height:F}),P=M.x,q=M.y;return t.jsx(A,{data:i,x:P,y:q,direction:d,padding:h,justify:u,effects:H,itemsSpacing:v,itemWidth:x,itemHeight:y,itemDirection:b,itemTextColor:k,itemBackground:S,itemOpacity:C,symbolShape:j,symbolSize:w,symbolSpacing:z,symbolBorderWidth:W,symbolBorderColor:O,onClick:X,onMouseEnter:Y,onMouseLeave:B,toggleSerie:"boolean"==typeof L?void 0:L})},exports.ContinuousColorsLegendSvg=b,exports.LegendSvg=A,exports.LegendSvgItem=C,exports.SymbolCircle=c,exports.SymbolDiamond=d,exports.SymbolSquare=g,exports.SymbolTriangle=h,exports.computeContinuousColorsLegend=y,exports.computeDimensions=f,exports.computeItemLayout=x,exports.computePositionFromAnchor=p,exports.continuousColorsLegendDefaults=m,exports.renderContinuousColorLegendToCanvas=function(t,e){var n,o=e.containerWidth,r=e.containerHeight,a=e.anchor,s=e.translateX,c=void 0===s?0:s,d=e.translateY,g=void 0===d?0:d,h=e.scale,u=e.length,v=void 0===u?m.length:u,f=e.thickness,x=void 0===f?m.thickness:f,b=e.direction,k=void 0===b?m.direction:b,S=e.ticks,C=e.tickPosition,A=void 0===C?m.tickPosition:C,j=e.tickSize,w=void 0===j?m.tickSize:j,z=e.tickSpacing,W=void 0===z?m.tickSpacing:z,O=e.tickOverlap,X=void 0===O?m.tickOverlap:O,Y=e.tickFormat,B=void 0===Y?m.tickFormat:Y,L=e.title,H=e.titleAlign,T=void 0===H?m.titleAlign:H,E=e.titleOffset,F=void 0===E?m.titleOffset:E,M=e.theme,P=y({scale:h,ticks:S,length:v,thickness:x,direction:k,tickPosition:A,tickSize:w,tickSpacing:W,tickOverlap:X,tickFormat:B,title:L,titleAlign:T,titleOffset:F}),q=P.width,D=P.height,V=P.gradientX1,R=P.gradientY1,G=P.gradientX2,I=P.gradientY2,Q=P.colorStops,_=P.ticks,J=P.titleText,K=P.titleX,N=P.titleY,U=P.titleRotation,Z=P.titleVerticalAlign,$=P.titleHorizontalAlign,tt=p({anchor:a,translateX:c,translateY:g,containerWidth:o,containerHeight:r,width:q,height:D}),et=tt.x,it=tt.y,nt={font:t.font,textAlign:t.textAlign,textBaseline:t.textBaseline};t.save(),t.translate(et,it);var ot=t.createLinearGradient(V*q,R*D,G*q,I*D);Q.forEach((function(t){ot.addColorStop(t.offset,t.stopColor)})),t.fillStyle=ot,t.fillRect(0,0,q,D),l.setCanvasFont(t,M.legends.ticks.text);var rt=null!=(n=M.legends.ticks.line.strokeWidth)?n:0,lt="string"!=typeof rt&&rt>0;_.forEach((function(e){lt&&(t.lineWidth=rt,M.axis.ticks.line.stroke&&(t.strokeStyle=M.axis.ticks.line.stroke),t.lineCap="square",t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()),t.textAlign="middle"===e.textHorizontalAlign?"center":e.textHorizontalAlign,t.textBaseline="central"===e.textVerticalAlign?"middle":e.textVerticalAlign,l.drawCanvasText(t,M.legends.ticks.text,e.text,e.textX,e.textY)})),J&&(t.save(),t.translate(K,N),t.rotate(i.degreesToRadians(U)),l.setCanvasFont(t,M.legends.title.text),t.textAlign="middle"===$?"center":$,t.textBaseline=Z,l.drawCanvasText(t,M.legends.title.text,J),t.restore()),t.restore(),t.font=nt.font,t.textAlign=nt.textAlign,t.textBaseline=nt.textBaseline},exports.renderLegendToCanvas=function(t,e){var i=e.data,n=e.containerWidth,o=e.containerHeight,r=e.translateX,a=void 0===r?0:r,s=e.translateY,c=void 0===s?0:s,d=e.anchor,g=e.direction,h=e.padding,m=void 0===h?0:h,v=e.justify,y=void 0!==v&&v,b=e.itemsSpacing,k=void 0===b?0:b,S=e.itemWidth,C=e.itemHeight,A=e.itemDirection,w=void 0===A?"left-to-right":A,z=e.itemTextColor,W=e.symbolSize,O=void 0===W?16:W,X=e.symbolSpacing,Y=void 0===X?8:X,B=e.theme,L=f({itemCount:i.length,itemWidth:S,itemHeight:C,itemsSpacing:k,direction:g,padding:m}),H=L.width,T=L.height,E=L.padding,F=p({anchor:d,translateX:a,translateY:c,containerWidth:n,containerHeight:o,width:H,height:T}),M=F.x,P=F.y,q="row"===g?S+k:0,D="column"===g?C+k:0;t.save(),t.translate(M,P),l.setCanvasFont(t,B.legends.text),i.forEach((function(e,i){var n,o=i*q+E.left,r=i*D+E.top,a=x({direction:w,justify:y,symbolSize:O,symbolSpacing:Y,width:S,height:C}),s=a.symbolX,c=a.symbolY,d=a.labelX,g=a.labelY,h=a.labelAnchor,m=a.labelAlignment;t.fillStyle=null!=(n=e.color)?n:"black",t.fillRect(o+s,r+c,O,O),t.textAlign=j[h],"central"===m&&(t.textBaseline="middle"),l.drawCanvasText(t,u({},B.legends.text,{fill:null!=z?z:B.legends.text.fill}),String(e.label),o+d,r+g)})),t.restore()},exports.useQuantizeColorScaleLegendData=function(t){var e=t.scale,i=t.domain,n=t.reverse,r=void 0!==n&&n,l=t.valueFormat,a=void 0===l?function(t){return t}:l,s=t.separator,c=void 0===s?" - ":s;return o.useMemo((function(){var t=(null!=i?i:e.range()).map((function(t,i){var n=e.invertExtent(t),o=n[0],r=n[1];return{id:t,index:i,extent:[o,r],label:""+a(o)+c+a(r),value:e(o),color:t}}));return r&&t.reverse(),t}),[i,e,r,c,a])};
//# sourceMappingURL=nivo-legends.cjs.js.map
